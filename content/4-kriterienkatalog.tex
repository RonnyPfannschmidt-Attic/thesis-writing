\chapter{Zielspezifikation ( 5 \%)}

Wie das letzte Kapitel gezeigt hat,
bringen bisherige Systeme diverse Probleme mit sich.
Da diese nicht oder nur schwer innerhalb dieser Systeme l\"osbar sind,
soll ein neues System geschafen werden.

Dieses Kapitel soll die entsprechenden Ziele qualitativ und quantitativ festlegen.




% tests in sektionen mit angeben

% zeitanforderungen ?!

% funktional, tests, szstemanforderunge? bessereer name
% abgrenzungen



\section{Systemanforderungen}

Die Systemanforderungen legen funktionale Eigenschaften der Software auf Systemebene fest.
Dabei werden 3 Punkte als wichtig erachtet.


\begin{description}

\dhitem[S1]
Das System darf sich nicht vom Absturz/Fehlerfall einzelner Komponenten st\"oren lassen.
Jederzeit muss es m\"oglich sein, Teile des Systems hart zu beenden oder
die Struktur des Systems zu ver\"andern.

\dhitem[S2]
Alle anfallenden L\"angerfristig verf\"ugbaren Daten m\"ussen mittels einer Standardschnittstelle
f\"ur Datenbankzugriff abfragbar/verwendbar sein.

\dhitem[S3]
Das System soll offen f\"ur Erweiterungen stehen,
und soweit m\"oglich Erweiterbarkeit aktiv unterst\"utzen.
\end{description}


\section{Funktionenale Anforderungen und Use Cases}
% kann/soll kriterien

Um ein modernes und erweiterbares CI-System zu schaffen,
m\"ussen zuerst die Kernfunktionen festgelegt werden.
Anschliessend kann auf dieser Basis
eine Platform f\"ur Erweiterungen geschaffen werden.
Dabei ist schon im Kern das bereits Angesprochene Problem
der Matrix-Builds zu beachten.

Anschliessend K\"onnen auf dieser Basis n\"utzliche weiterf\"uhrende Funktionen
sowie die gew\"unschten Erweiterungen geschaffen werden.


\subsection{Kernfunktionen}

Die Kernfunktionen bilden das absolute Minimum an Funktionen.
Jede von ihnen ist unabdingbar.

\begin{figure}[ht]
  \centering
  \includegraphics[width=0.7\textwidth]{imageinput/use-case-muss.png}
  \caption{\"Ubersicht Use-Cases - Kern}
  \label{fig:use-case-muss}
\end{figure}

Wie in Abbildung~\ref{fig:use-case-muss} gut zu erkennen,
stellt sich der Absolute Kern eines CI-Systemes aus relativ wenigen Funktionalit\"aten zusammen.

Die erste Notwendige Funktion stellt die Verwaltung von Projekten \deffeat{feat:projekt-verwalten}.
Sind diese dann angelegt, mann man damit beginnen, Auftr\"age abzusetzen \deffeat{feat:auftrag-absetzen}.
Ist ein Auftrag abgesetzt, so muss seine Richtigkeit sichergestellt werden \deffeat{feat:auftrag-validieren},
danach kann er f\"ur die Bearbeitung \deffeat{feat:auftrag-vorbereiten} vorbereitet werden.

Nach dem der Auftrag an sich vorbereitet ist, m\"ussen entsprechend der Build-Matrix \deffeat{feat:auftrag-matrix}
Arbeitspackete generiert werden \deffeat{feat:arbeitspacket-generieren}.
Diese Arbeitspackete werden anschliesend verteilt \deffeat{feat:arbeitspacket-verteilen} und abgearbeitet \deffeat{feat:arbeitspacket-abarbeiten}.

Das Abarbeiten der Arbeitspackete sollte in Schritten erfolgen \deffeat{feat:arbeitspackete-schritte},
wobei die grundlegendste Art von Arbeitsschritt das Ausf\"uhren eines Prozesses \deffeat{feat:arbeitsschritt-prozess} ist.


\subsection{Weiterf\"uhrende Funktionen}

Nach dem Umsetzung des funktionalen Kerns als Basis,
k\"onnen nun weiterf\"uhrende Funktionen angelagert werden.
Diese sind nicht zwingend notwendig, tragen jedoch erheblich dazu bei,
informierte Entscheidungen \"uber den Zustand eines Projektes in Integration zu treffen.

\subsubsection{Datensammlung}

Zun\"achst einmal gilt es Datensammlung beim Ablauf eines Arbeitschrittes zu betrachen.
\"Ublicherweise muss zumindest STDOUT/STDERR schon zur Laufzeit festgehalten \deffeat{feat:arbeisschritt-stdio} werden.
Weiterhin besteht auch Interesse an statistisch auswertbaren Daten wie z.B. den Speicherverbrauch \deffeat{feat:arbeitsschritt-stats}.

Auch nach dem Ausf\"uhren eines Arbeitschrittes fallen interessante Daten an.
Oftmals sorgt zumindest einer der Arbeitschritte f\"ur das Generieren eines Ausf\"uhrbaren Programmes.
Dieses sollte sp\"ater auch zur Verf\"ugung gestellt werden \deffeat{feat:arbeitsschritt-artefakt}.
Weiterhin finden sich Testresultate in diversen Standardformaten \deffeat{feat:arbeitsschritt-resultate}, wie z.B. JunitXML.

\subsubsection{Arten Arbeitsschritte}

Auch bei den Arten der Arbeitsschritte gibt es f\"r gew\"ohnlich mehrere M\"oglichkeiten (siehe \Cref{chap:ist-analyse}).
Neben den gewohnten Prozessschritten (\cref{feat:arbeitsschritt-prozess}) sind weitere Arten \"ublich.
Interaktion mit dem Quellcodemanagement \deffeat{feat:arbeitsschritt-scm}, sowie
Schritte implementiert in einer Scriptsprache \deffeat{feat:arbeitsschritt-script},
stellen weiterf\"uhrende Hilfen dar.



\begin{verbatim}

- neue use-cases
  - workdir diff/tarball
  - auswertung zeitserien <addon>
  - datenanalyse beispiel sommer <addon>

- extensions
  - regressionstest
  - testanalyse

- erstellung/management von arbeitspacketen

  - analyse von
  - zeitserien ueber projekte
  - auftraegen
  - arbeitspackete

  - ext analyse sommer projekt
  - ext regressionsanalyse (theorie) ?
\end{verbatim}

\section{rahmenbed}

\subsection{konkr}?
- testen notwendig
- das system selber ci unterziehen

\subsection{feststellung}
 - regeln


\section{Testkriterien}
\subsection{Unit Tests}

Unittests werden verwendet um die kleinsten Komponenten des Systems zu testen.
Durch ihre starke Koppelung an Implementation und Entwurf,
sind die nicht w\"ahrend der Kriterienfindung noch nicht n\"aher bestimmbar.

Sie ergeben sich im Entwurf und in der nachfolgenden Implementation.

\subsection{Funktionale Tests}

Funktionale Tests testen einzelne funktionale Komponenten des Systems.
Daher entsprechen sie Grob den funktionalen Anforderungen und Use-cases.
%XXX: mehr text

\subsection{Systemtests}

Systemtests testen Kombinationen von funktionalen Komponenten sowie das Komplettsystem.
Im Rahmen dieser Arbeit werden 3 Systemtests definiert.


\begin{description}
  \dhitem[Komponentendurchlauf]
    soll anhand des ausf\"uhrens der einzelnen funktionalen Komponenten
    aufzeigen, ob das Zusammenspiel der Komponenten
    grunds\"atzlich funkioniert
  \dhitem[Komplettstystem]
    soll das komplette CI-System auf einer Testdatenbank starten
    und seine Funktion sicherstellen
  \dhitem[Beispiel Datenanalyse]
    soll die Funktion der Beispielerweiterung f\"ur Datenanalyse sicherstellen
\end{description}

\subsection{Manuelle Tests}

Die manuellen Tests werden alle Tests umfassen,
deren Umsetzung als automatisches Programm erfahrungsgem\"ass zeitaufwendig,
fehleranf\"allig und/oder umfangreich sind.


\begin{description}
  \dhitem[zeitliches Verhalten]
    Beobachtung und Analyse des Zeitveraltens \\
    bei wachsender Datenmenge und Auftragsgr\"osse
  \dhitem[Race-Conditions]
    Beobachtung und Analyse trivialer Race-Conditions \\
    bei wachsender Nebenl\"aufigkeit
  \dhitem[Verhalten bei Systemfehler]
    \"Uberpr\"ufung des Verhaltens beim Absturz von Teilkomponenten
  \dhitem[Grosse Datenanalyse]
    Testen der exemplarischen Erweiterungen mit Datenmengen und Aufgaben \\
    die den Rahmen eines automatischen Tests Sprengen
\end{description}

\section{Zusammenfassung}

% zusammenfassung 
%   - im wesentlichen soll \ldots. prototypisch & exemplarisch
%   anhand .. soll ein loesungskonz vorgestellt werden
